<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>minimal websites</title>
    <style id="uno"></style>
    <style>
      @import url("https://unpkg.com/@fontsource/inter@5.0.15/index.css");

      body {
        font-family: Inter, sans-serif;
      }

      [uncloak] {
        display: none;
      }
    </style>
  </head>
  <body
    uncloak
    class="m-0 md:p-0 sm:p-2 max-w-3xl mx-auto dark:bg-zinc-900 dark:text-zinc-600"
  >
    <div
      class="min-h-[100vh] flex flex-col justify-center prose prose-zinc dark:prose-invert"
    >
      <h3>Minimal Websites</h3>
      <ul>
        {{ range .Links }}
        <li>
          <a href="{{.Link}}"> {{ .Title }} </a>
        </li>
        {{ end}}
      </ul>
    </div>
    <script type="module">
      listenToSystemTheme();

      function enableDarkMode() {
        document.documentElement.classList.add("dark");
      }
      function disableDarkMode() {
        document.documentElement.classList.remove("dark");
      }

      function getSystemThemePref() {
        return (
          window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)")
        );
      }

      function listenToSystemTheme() {
        getSystemThemePref().addEventListener("change", (e) => {
          if (!e.matches) {
            disableDarkMode();
            return;
          }

          enableDarkMode();
          return;
        });
      }

      function getSystemTheme() {
        const preference = getSystemThemePref();
        if (preference.matches) {
          return "dark";
        } else {
          return "light";
        }
      }

      const currTheme = getSystemTheme();
      if (currTheme === "dark") {
        enableDarkMode();
      } else {
        disableDarkMode();
      }
    </script>
    <script src="/assets/uno.js" type="module" async defer></script>
  </body>
</html>
